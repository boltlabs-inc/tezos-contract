parameter (or (or (or (unit %addCustFunding) (unit %addMerchFunding)) (or (unit %custClaim) (pair %custClose (pair (mutez %customer_balance) (mutez %merchant_balance)) (pair (bls12_381_fr %revocation_lock) (pair (bls12_381_g1 %sigma1) (bls12_381_g1 %sigma2)))))) (or (or (unit %expiry) (unit %merchClaim)) (or (bytes %merchDispute) (or (pair %mutualClose (mutez %customer_balance) (pair (signature %merchSig) (mutez %merchant_balance))) (unit %reclaimFunding)))));
storage   (pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))));
code
  {
    # Global variable: is_g1_identity # pair @parameter @storage
    LAMBDA
      bls12_381_g1
      bool
      {
        # sp.result(sp.pack(lparams_0) == sp.bytes('0x050a00000060400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')) # bls12_381_g1
        PACK;       # bytes
        PUSH bytes 0x050a00000060400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000; # bytes : bytes
        COMPARE;    # int
        EQ;         # bool
      }; # lambda bls12_381_g1 bool : pair @parameter @storage
    SWAP;       # pair @parameter @storage : lambda bls12_381_g1 bool
    UNPAIR;     # @parameter : @storage : lambda bls12_381_g1 bool
    IF_LEFT
      {
        IF_LEFT
          {
            DIG 2;      # lambda bls12_381_g1 bool : @parameter.left.left : @storage
            DROP;       # @parameter.left.left : @storage
            IF_LEFT
              {
                DROP;       # @storage
                # == addCustFunding ==
                # sp.verify(self.data.customer_address == sp.sender) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @storage
                CDR;        # address : @storage
                SENDER;     # @sender : address : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.customer_address == sp.sender"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(self.data.status == 0) # @storage
                DUP;        # @storage : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @storage
                GET 3;      # nat : @storage
                PUSH nat 0; # nat : nat : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.status == 0"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(sp.amount == self.data.customer_balance) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                GET 3;      # mutez : @storage
                AMOUNT;     # @amount : mutez : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: sp.amount == self.data.customer_balance"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # if self.data.merchant_balance == sp.tez(0): # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 5;      # mutez : @storage
                PUSH mutez 0; # mutez : mutez : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {
                    # self.data.status = 2 # @storage
                    UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                    SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PUSH nat 2; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                    PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                  }
                  {
                    # self.data.status = 1 # @storage
                    UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                    SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PUSH nat 1; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                    SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                    PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                  }; # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }
              {
                DROP;       # @storage
                # == addMerchFunding ==
                # sp.verify(self.data.merchant_address == sp.sender) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : @storage
                CDR;        # address : @storage
                SENDER;     # @sender : address : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.merchant_address == sp.sender"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(self.data.status == 1) # @storage
                DUP;        # @storage : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @storage
                GET 3;      # nat : @storage
                PUSH nat 1; # nat : nat : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.status == 1"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(sp.amount == self.data.merchant_balance) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 5;      # mutez : @storage
                AMOUNT;     # @amount : mutez : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: sp.amount == self.data.merchant_balance"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # self.data.status = 2 # @storage
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PUSH nat 2; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }; # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
            NIL operation; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
          }
          {
            IF_LEFT
              {
                DROP;       # @storage : lambda bls12_381_g1 bool
                SWAP;       # lambda bls12_381_g1 bool : @storage
                DROP;       # @storage
                # == custClaim ==
                # sp.verify(self.data.customer_address == sp.sender) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @storage
                CDR;        # address : @storage
                SENDER;     # @sender : address : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.customer_address == sp.sender"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(self.data.status == 4) # @storage
                DUP;        # @storage : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @storage
                GET 3;      # nat : @storage
                PUSH nat 4; # nat : nat : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.status == 4"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(sp.now > self.data.delay_expiry) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                GET 4;      # timestamp : @storage
                NOW;        # @now : timestamp : @storage
                COMPARE;    # int : @storage
                GT;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: sp.now > self.data.delay_expiry"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.send(self.data.customer_address, self.data.customer_balance) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @storage
                CDR;        # address : @storage
                CONTRACT unit; # option (contract unit) : @storage
                IF_NONE
                  {
                    PUSH int 303; # int : @storage
                    FAILWITH;   # FAILED
                  }
                  {}; # @some : @storage
                NIL operation; # list operation : @some : @storage
                SWAP;       # @some : list operation : @storage
                DUP 3;      # @storage : @some : list operation : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @some : list operation : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @some : list operation : @storage
                GET 3;      # mutez : @some : list operation : @storage
                UNIT;       # unit : mutez : @some : list operation : @storage
                TRANSFER_TOKENS; # operation : list operation : @storage
                CONS;       # list operation : @storage
                SWAP;       # @storage : list operation
                # self.data.status = 5 # @storage : list operation
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PUSH nat 5; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                SWAP;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }
              {
                # == custClose ==
                # sp.verify(self.data.customer_address == sp.sender) # @parameter%custClose : @storage : lambda bls12_381_g1 bool
                SENDER;     # @sender : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                DUP 3;      # @storage : @sender : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @sender : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @sender : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @sender : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                CDR;        # address : @sender : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                COMPARE;    # int : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                EQ;         # bool : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.customer_address == sp.sender"; # string : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    FAILWITH;   # FAILED
                  }; # @parameter%custClose : @storage : lambda bls12_381_g1 bool
                # sp.verify((self.data.status == 2) | (self.data.status == 3)) # @parameter%custClose : @storage : lambda bls12_381_g1 bool
                PUSH nat 2; # nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                DUP 3;      # @storage : nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                GET 3;      # nat : nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                COMPARE;    # int : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                EQ;         # bool : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                IF
                  {
                    PUSH bool True; # bool : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                  }
                  {
                    PUSH nat 3; # nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    DUP 3;      # @storage : nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    GET 3;      # nat : nat : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    COMPARE;    # int : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    EQ;         # bool : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                  }; # bool : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                IF
                  {}
                  {
                    PUSH string "WrongCondition: (self.data.status == 2) | (self.data.status == 3)"; # string : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                    FAILWITH;   # FAILED
                  }; # @parameter%custClose : @storage : lambda bls12_381_g1 bool
                # sp.verify(self.is_g1_identity(params.sigma1) == False) # @parameter%custClose : @storage : lambda bls12_381_g1 bool
                PUSH bool False; # bool : @parameter%custClose : @storage : lambda bls12_381_g1 bool
                DIG 3;      # lambda bls12_381_g1 bool : bool : @parameter%custClose : @storage
                DUP 3;      # @parameter%custClose : lambda bls12_381_g1 bool : bool : @parameter%custClose : @storage
                GET 5;      # bls12_381_g1 : lambda bls12_381_g1 bool : bool : @parameter%custClose : @storage
                EXEC;       # bool : bool : @parameter%custClose : @storage
                COMPARE;    # int : @parameter%custClose : @storage
                EQ;         # bool : @parameter%custClose : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.is_g1_identity(params.sigma1) == False"; # string : @parameter%custClose : @storage
                    FAILWITH;   # FAILED
                  }; # @parameter%custClose : @storage
                # cust_b = sp.local("cust_b", sp.fst(sp.ediv(params.customer_balance, sp.mutez(1)).open_some())) # @parameter%custClose : @storage
                DUP;        # @parameter%custClose : @parameter%custClose : @storage
                CAR;        # pair (mutez %customer_balance) (mutez %merchant_balance) : @parameter%custClose : @storage
                CAR;        # mutez : @parameter%custClose : @storage
                PUSH mutez 1; # mutez : mutez : @parameter%custClose : @storage
                SWAP;       # mutez : mutez : @parameter%custClose : @storage
                EDIV;       # option (pair nat mutez) : @parameter%custClose : @storage
                IF_NONE
                  {
                    PUSH int 232; # int : @parameter%custClose : @storage
                    FAILWITH;   # FAILED
                  }
                  {}; # @some : @parameter%custClose : @storage
                CAR;        # nat : @parameter%custClose : @storage
                # cust_bal_b = sp.local("cust_bal_b", sp.mul(cust_b.value, sp.bls12_381_fr('0x01'))) # nat : @parameter%custClose : @storage
                PUSH bls12_381_fr 0x01; # bls12_381_fr : nat : @parameter%custClose : @storage
                SWAP;       # nat : bls12_381_fr : @parameter%custClose : @storage
                MUL;        # bls12_381_fr : @parameter%custClose : @storage
                # merch_b = sp.local("merch_b", sp.fst(sp.ediv(params.merchant_balance, sp.mutez(1)).open_some())) # bls12_381_fr : @parameter%custClose : @storage
                PUSH mutez 1; # mutez : bls12_381_fr : @parameter%custClose : @storage
                DUP 3;      # @parameter%custClose : mutez : bls12_381_fr : @parameter%custClose : @storage
                CAR;        # pair (mutez %customer_balance) (mutez %merchant_balance) : mutez : bls12_381_fr : @parameter%custClose : @storage
                CDR;        # mutez : mutez : bls12_381_fr : @parameter%custClose : @storage
                EDIV;       # option (pair nat mutez) : bls12_381_fr : @parameter%custClose : @storage
                IF_NONE
                  {
                    PUSH int 241; # int : bls12_381_fr : @parameter%custClose : @storage
                    FAILWITH;   # FAILED
                  }
                  {}; # @some : bls12_381_fr : @parameter%custClose : @storage
                CAR;        # nat : bls12_381_fr : @parameter%custClose : @storage
                # merch_bal_b = sp.local("merch_bal_b", sp.mul(merch_b.value, sp.bls12_381_fr('0x01'))) # nat : bls12_381_fr : @parameter%custClose : @storage
                PUSH bls12_381_fr 0x01; # bls12_381_fr : nat : bls12_381_fr : @parameter%custClose : @storage
                SWAP;       # nat : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                MUL;        # bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                # prod1 = sp.local("prod1", self.data.x2) # bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                DUP 4;      # @storage : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                GET 4;      # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                # prod1.value += sp.mul(self.data.y2s_0, self.data.cid) # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                DIG 4;      # @storage : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                DUP;        # @storage : @storage : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @storage : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                CAR;        # bls12_381_fr : @storage : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                SWAP;       # @storage : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                DUP;        # @storage : @storage : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose
                DUG 6;      # @storage : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                GET 5;      # pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1) : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                CAR;        # bls12_381_g2 : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                MUL;        # bls12_381_g2 : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                ADD;        # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                # prod1.value += sp.mul(self.data.y2s_1, sp.bls12_381_fr('0x000000000000000000000000000000000000000000000000000000434c4f5345')) # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                PUSH bls12_381_fr 0x000000000000000000000000000000000000000000000000000000434c4f5345; # bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                DUP 6;      # @storage : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                GET 5;      # pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1) : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                CDR;        # bls12_381_g2 : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                MUL;        # bls12_381_g2 : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                ADD;        # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                # prod1.value += sp.mul(self.data.y2s_2, params.revocation_lock) # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                DUP 4;      # @parameter%custClose : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                GET 3;      # bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                DUP 6;      # @storage : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                GET 7;      # bls12_381_g2 : bls12_381_fr : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                MUL;        # bls12_381_g2 : bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                ADD;        # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                # prod1.value += sp.mul(self.data.y2s_3, cust_bal_b.value) # bls12_381_g2 : bls12_381_fr : bls12_381_fr : @parameter%custClose : @storage
                DIG 2;      # bls12_381_fr : bls12_381_g2 : bls12_381_fr : @parameter%custClose : @storage
                DUP 5;      # @storage : bls12_381_fr : bls12_381_g2 : bls12_381_fr : @parameter%custClose : @storage
                GET 9;      # bls12_381_g2 : bls12_381_fr : bls12_381_g2 : bls12_381_fr : @parameter%custClose : @storage
                MUL;        # bls12_381_g2 : bls12_381_g2 : bls12_381_fr : @parameter%custClose : @storage
                ADD;        # bls12_381_g2 : bls12_381_fr : @parameter%custClose : @storage
                SWAP;       # bls12_381_fr : bls12_381_g2 : @parameter%custClose : @storage
                # prod1.value += sp.mul(self.data.y2s_4, merch_bal_b.value) # bls12_381_fr : bls12_381_g2 : @parameter%custClose : @storage
                DUP 4;      # @storage : bls12_381_fr : bls12_381_g2 : @parameter%custClose : @storage
                GET 10;     # bls12_381_g2 : bls12_381_fr : bls12_381_g2 : @parameter%custClose : @storage
                MUL;        # bls12_381_g2 : bls12_381_g2 : @parameter%custClose : @storage
                ADD;        # bls12_381_g2 : @parameter%custClose : @storage
                # sp.verify(sp.pairing_check(sp.list([(params.sigma1, prod1.value), (params.sigma2, - self.data.g2)])), 'pairing check failed') # bls12_381_g2 : @parameter%custClose : @storage
                NIL (pair bls12_381_g1 bls12_381_g2); # list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                DUP 4;      # @storage : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                CAR;        # bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                NEG;        # bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                DUP 4;      # @parameter%custClose : bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                GET 6;      # bls12_381_g1 : bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                PAIR;       # pair bls12_381_g1 bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                CONS;       # list (pair bls12_381_g1 bls12_381_g2) : bls12_381_g2 : @parameter%custClose : @storage
                SWAP;       # bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : @parameter%custClose : @storage
                DUP 3;      # @parameter%custClose : bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : @parameter%custClose : @storage
                GET 5;      # bls12_381_g1 : bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : @parameter%custClose : @storage
                PAIR;       # pair bls12_381_g1 bls12_381_g2 : list (pair bls12_381_g1 bls12_381_g2) : @parameter%custClose : @storage
                CONS;       # list (pair bls12_381_g1 bls12_381_g2) : @parameter%custClose : @storage
                PAIRING_CHECK; # bool : @parameter%custClose : @storage
                IF
                  {}
                  {
                    PUSH string "pairing check failed"; # string : @parameter%custClose : @storage
                    FAILWITH;   # FAILED
                  }; # @parameter%custClose : @storage
                SWAP;       # @storage : @parameter%custClose
                # self.data.customer_balance = params.customer_balance # @storage : @parameter%custClose
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                UNPAIR;     # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                UNPAIR;     # pair (bls12_381_fr %cid) (address %customer_address) : pair (mutez %customer_balance) (timestamp %delay_expiry) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                SWAP;       # pair (mutez %customer_balance) (timestamp %delay_expiry) : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                CDR;        # timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                DUP 5;      # @parameter%custClose : timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                CAR;        # pair (mutez %customer_balance) (mutez %merchant_balance) : timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                CAR;        # mutez : timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair mutez timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                SWAP;       # pair (bls12_381_fr %cid) (address %customer_address) : pair mutez timestamp : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                # self.data.revocation_lock = params.revocation_lock # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                CDR;        # int : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                DUP 5;      # @parameter%custClose : int : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                GET 3;      # bls12_381_fr : int : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                PAIR;       # pair bls12_381_fr int : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                PAIR;       # pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                PAIR;       # pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @parameter%custClose
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : @parameter%custClose
                # self.data.delay_expiry = sp.add_seconds(sp.now, self.data.self_delay) # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : @parameter%custClose
                DUP;        # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : @parameter%custClose
                DUG 2;      # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                UNPAIR;     # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                UNPAIR;     # pair (bls12_381_fr %cid) (address %customer_address) : pair mutez timestamp : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                SWAP;       # pair mutez timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                CAR;        # mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                NOW;        # @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                DIG 6;      # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                GET 3;      # pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2)) : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                CAR;        # pair bls12_381_fr int : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                CDR;        # int : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                ADD;        # timestamp : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                SWAP;       # mutez : timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair mutez timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                SWAP;       # pair (bls12_381_fr %cid) (address %customer_address) : pair mutez timestamp : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @parameter%custClose
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : @parameter%custClose
                SWAP;       # @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                # if params.merchant_balance != sp.tez(0): # @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                DUP;        # @parameter%custClose : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                CAR;        # pair (mutez %customer_balance) (mutez %merchant_balance) : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                CDR;        # mutez : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                PUSH mutez 0; # mutez : mutez : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                COMPARE;    # int : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                NEQ;        # bool : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                IF
                  {
                    # sp.send(self.data.merchant_address, params.merchant_balance) # @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    NIL operation; # list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    DUP 3;      # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    CDR;        # address : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    CONTRACT unit; # option (contract unit) : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    IF_NONE
                      {
                        PUSH int 268; # int : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                        FAILWITH;   # FAILED
                      }
                      {}; # @some : list operation : @parameter%custClose : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    DIG 2;      # @parameter%custClose : @some : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    CAR;        # pair (mutez %customer_balance) (mutez %merchant_balance) : @some : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    CDR;        # mutez : @some : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    UNIT;       # unit : mutez : @some : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    TRANSFER_TOKENS; # operation : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    CONS;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                  }
                  {
                    DROP;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                    NIL operation; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                  }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                SWAP;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                # self.data.status = 4 # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                SWAP;       # pair (pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (pair bls12_381_fr int) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair bls12_381_fr int : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair bls12_381_fr int : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                CDR;        # bls12_381_g2 : pair bls12_381_fr int : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PUSH nat 4; # nat : bls12_381_g2 : pair bls12_381_fr int : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair nat bls12_381_g2 : pair bls12_381_fr int : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair bls12_381_fr int : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair bls12_381_fr int) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                SWAP;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
          }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
      }
      {
        IF_LEFT
          {
            IF_LEFT
              {
                DROP;       # @storage : lambda bls12_381_g1 bool
                SWAP;       # lambda bls12_381_g1 bool : @storage
                DROP;       # @storage
                # == expiry ==
                # sp.verify(self.data.merchant_address == sp.sender) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : @storage
                CDR;        # address : @storage
                SENDER;     # @sender : address : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.merchant_address == sp.sender"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(self.data.status == 2) # @storage
                DUP;        # @storage : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @storage
                GET 3;      # nat : @storage
                PUSH nat 2; # nat : nat : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.status == 2"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # self.data.delay_expiry = sp.add_seconds(sp.now, self.data.self_delay) # @storage
                DUP;        # @storage : @storage
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @storage
                UNPAIR;     # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @storage
                UNPAIR;     # pair (bls12_381_fr %cid) (address %customer_address) : pair (mutez %customer_balance) (timestamp %delay_expiry) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @storage
                SWAP;       # pair (mutez %customer_balance) (timestamp %delay_expiry) : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @storage
                CAR;        # mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @storage
                NOW;        # @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : @storage
                DIG 5;      # @storage : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                CAR;        # pair (bls12_381_fr %revocation_lock) (int %self_delay) : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                CDR;        # int : @now : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                ADD;        # timestamp : mutez : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                SWAP;       # mutez : timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                PAIR;       # pair mutez timestamp : pair (bls12_381_fr %cid) (address %customer_address) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                SWAP;       # pair (bls12_381_fr %cid) (address %customer_address) : pair mutez timestamp : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                PAIR;       # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp) : pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                PAIR;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                # self.data.status = 3 # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PUSH nat 3; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                NIL operation; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }
              {
                DROP;       # @storage : lambda bls12_381_g1 bool
                SWAP;       # lambda bls12_381_g1 bool : @storage
                DROP;       # @storage
                # == merchClaim ==
                # sp.verify(self.data.merchant_address == sp.sender) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : @storage
                CDR;        # address : @storage
                SENDER;     # @sender : address : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.merchant_address == sp.sender"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(self.data.status == 3) # @storage
                DUP;        # @storage : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @storage
                GET 3;      # nat : @storage
                PUSH nat 3; # nat : nat : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.status == 3"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.verify(sp.now > self.data.delay_expiry) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                GET 4;      # timestamp : @storage
                NOW;        # @now : timestamp : @storage
                COMPARE;    # int : @storage
                GT;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: sp.now > self.data.delay_expiry"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.send(self.data.merchant_address, self.data.customer_balance + self.data.merchant_balance) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : @storage
                CDR;        # address : @storage
                CONTRACT unit; # option (contract unit) : @storage
                IF_NONE
                  {
                    PUSH int 197; # int : @storage
                    FAILWITH;   # FAILED
                  }
                  {}; # @some : @storage
                NIL operation; # list operation : @some : @storage
                SWAP;       # @some : list operation : @storage
                DIG 2;      # @storage : @some : list operation
                DUP;        # @storage : @storage : @some : list operation
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage : @some : list operation
                GET 5;      # mutez : @storage : @some : list operation
                SWAP;       # @storage : mutez : @some : list operation
                DUP;        # @storage : @storage : mutez : @some : list operation
                DUG 4;      # @storage : mutez : @some : list operation : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : mutez : @some : list operation : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : mutez : @some : list operation : @storage
                GET 3;      # mutez : mutez : @some : list operation : @storage
                ADD;        # mutez : @some : list operation : @storage
                UNIT;       # unit : mutez : @some : list operation : @storage
                TRANSFER_TOKENS; # operation : list operation : @storage
                CONS;       # list operation : @storage
                SWAP;       # @storage : list operation
                # self.data.status = 5 # @storage : list operation
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PUSH nat 5; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                SWAP;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
          }
          {
            IF_LEFT
              {
                DIG 2;      # lambda bls12_381_g1 bool : @parameter%merchDispute : @storage
                DROP;       # @parameter%merchDispute : @storage
                # == merchDispute ==
                # sp.verify(self.data.merchant_address == sp.sender) # @parameter%merchDispute : @storage
                SENDER;     # @sender : @parameter%merchDispute : @storage
                DUP 3;      # @storage : @sender : @parameter%merchDispute : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @sender : @parameter%merchDispute : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : @sender : @parameter%merchDispute : @storage
                CDR;        # address : @sender : @parameter%merchDispute : @storage
                COMPARE;    # int : @parameter%merchDispute : @storage
                EQ;         # bool : @parameter%merchDispute : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.merchant_address == sp.sender"; # string : @parameter%merchDispute : @storage
                    FAILWITH;   # FAILED
                  }; # @parameter%merchDispute : @storage
                # sp.verify(self.data.status == 4) # @parameter%merchDispute : @storage
                PUSH nat 4; # nat : @parameter%merchDispute : @storage
                DUP 3;      # @storage : nat : @parameter%merchDispute : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : nat : @parameter%merchDispute : @storage
                GET 3;      # nat : nat : @parameter%merchDispute : @storage
                COMPARE;    # int : @parameter%merchDispute : @storage
                EQ;         # bool : @parameter%merchDispute : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: self.data.status == 4"; # string : @parameter%merchDispute : @storage
                    FAILWITH;   # FAILED
                  }; # @parameter%merchDispute : @storage
                # hash_packed = sp.local("hash_packed", sp.concat(sp.list([sp.bytes('0x050a00000020'), sp.sha3(params)]))) # @parameter%merchDispute : @storage
                SHA3;       # bytes : @storage
                PUSH bytes 0x050a00000020; # bytes : bytes : @storage
                CONCAT;     # bytes : @storage
                # hash_fr = sp.local("hash_fr", sp.unpack(hash_packed.value, sp.TBls12_381_fr).open_some()) # bytes : @storage
                UNPACK bls12_381_fr; # option bls12_381_fr : @storage
                IF_NONE
                  {
                    PUSH int 284; # int : @storage
                    FAILWITH;   # FAILED
                  }
                  {}; # @some : @storage
                # sp.verify(sp.pack(sp.set_type_expr(self.data.revocation_lock, sp.TBls12_381_fr)) == sp.pack(sp.set_type_expr(hash_fr.value, sp.TBls12_381_fr))) # @some : @storage
                PACK;       # bytes : @storage
                SWAP;       # @storage : bytes
                DUP;        # @storage : @storage : bytes
                DUG 2;      # @storage : bytes : @storage
                GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : bytes : @storage
                CAR;        # pair (bls12_381_fr %revocation_lock) (int %self_delay) : bytes : @storage
                CAR;        # bls12_381_fr : bytes : @storage
                PACK;       # bytes : bytes : @storage
                COMPARE;    # int : @storage
                EQ;         # bool : @storage
                IF
                  {}
                  {
                    PUSH string "WrongCondition: sp.pack(sp.set_type_expr(self.data.revocation_lock, sp.TBls12_381_fr)) == sp.pack(sp.set_type_expr(hash_fr.value, sp.TBls12_381_fr))"; # string : @storage
                    FAILWITH;   # FAILED
                  }; # @storage
                # sp.send(self.data.merchant_address, self.data.customer_balance) # @storage
                DUP;        # @storage : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : @storage
                CDR;        # address : @storage
                CONTRACT unit; # option (contract unit) : @storage
                IF_NONE
                  {
                    PUSH int 288; # int : @storage
                    FAILWITH;   # FAILED
                  }
                  {}; # @some : @storage
                NIL operation; # list operation : @some : @storage
                SWAP;       # @some : list operation : @storage
                DUP 3;      # @storage : @some : list operation : @storage
                CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @some : list operation : @storage
                CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @some : list operation : @storage
                GET 3;      # mutez : @some : list operation : @storage
                UNIT;       # unit : mutez : @some : list operation : @storage
                TRANSFER_TOKENS; # operation : list operation : @storage
                CONS;       # list operation : @storage
                SWAP;       # @storage : list operation
                # self.data.status = 5 # @storage : list operation
                UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PUSH nat 5; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                SWAP;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }
              {
                IF_LEFT
                  {
                    # == mutualClose ==
                    # sp.verify(self.data.customer_address == sp.sender) # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    SENDER;     # @sender : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP 3;      # @storage : @sender : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @sender : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @sender : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @sender : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CDR;        # address : @sender : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    COMPARE;    # int : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    EQ;         # bool : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    IF
                      {}
                      {
                        PUSH string "WrongCondition: self.data.customer_address == sp.sender"; # string : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        FAILWITH;   # FAILED
                      }; # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    # sp.verify(self.data.status == 2) # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PUSH nat 2; # nat : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP 3;      # @storage : nat : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : nat : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    GET 3;      # nat : nat : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    COMPARE;    # int : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    EQ;         # bool : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    IF
                      {}
                      {
                        PUSH string "WrongCondition: self.data.status == 2"; # string : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        FAILWITH;   # FAILED
                      }; # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    # sp.verify(sp.check_signature(self.data.merchant_public_key, params.merchSig, sp.pack(sp.record(cid = self.data.cid, context_string = 'zkChannels mutual close', contract_id = sp.self_address, customer_balance = params.customer_balance, merchant_balance = params.merchant_balance)))) # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP;        # @parameter%mutualClose : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    GET 4;      # mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    SWAP;       # @parameter%mutualClose : mutez : @storage : lambda bls12_381_g1 bool
                    DUP;        # @parameter%mutualClose : @parameter%mutualClose : mutez : @storage : lambda bls12_381_g1 bool
                    DUG 2;      # @parameter%mutualClose : mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # mutez : mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PAIR;       # pair mutez mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    SELF_ADDRESS; # @self : pair mutez mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PAIR;       # pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PUSH string "zkChannels mutual close"; # string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP 4;      # @storage : string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # bls12_381_fr : string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PAIR;       # pair bls12_381_fr string : pair @self (pair mutez mutez) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PAIR;       # pair (pair bls12_381_fr string) (pair @self (pair mutez mutez)) : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PACK;       # bytes : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    SWAP;       # @parameter%mutualClose : bytes : @storage : lambda bls12_381_g1 bool
                    DUP;        # @parameter%mutualClose : @parameter%mutualClose : bytes : @storage : lambda bls12_381_g1 bool
                    DUG 2;      # @parameter%mutualClose : bytes : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    GET 3;      # signature : bytes : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP 4;      # @storage : signature : bytes : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : signature : bytes : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    GET 6;      # key : signature : bytes : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CHECK_SIGNATURE; # bool : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    IF
                      {}
                      {
                        PUSH string "WrongCondition: sp.check_signature(self.data.merchant_public_key, params.merchSig, sp.pack(sp.record(cid = self.data.cid, context_string = 'zkChannels mutual close', contract_id = sp.self_address, customer_balance = params.customer_balance, merchant_balance = params.merchant_balance)))"; # string : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        FAILWITH;   # FAILED
                      }; # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    # if params.customer_balance != sp.tez(0): # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP;        # @parameter%mutualClose : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    CAR;        # mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PUSH mutez 0; # mutez : mutez : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    COMPARE;    # int : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    NEQ;        # bool : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    IF
                      {
                        # sp.send(self.data.customer_address, params.customer_balance) # @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        NIL operation; # list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        DUP 3;      # @storage : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CDR;        # address : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CONTRACT unit; # option (contract unit) : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        IF_NONE
                          {
                            PUSH int 333; # int : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                            FAILWITH;   # FAILED
                          }
                          {}; # @some : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        DUP 3;      # @parameter%mutualClose : @some : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CAR;        # mutez : @some : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        UNIT;       # unit : mutez : @some : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        TRANSFER_TOKENS; # operation : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                        CONS;       # list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                      }
                      {
                        NIL operation; # list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                      }; # list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    # if params.merchant_balance != sp.tez(0): # list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    PUSH mutez 0; # mutez : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    DUP 3;      # @parameter%mutualClose : mutez : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    GET 4;      # mutez : mutez : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    COMPARE;    # int : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    NEQ;        # bool : list operation : @parameter%mutualClose : @storage : lambda bls12_381_g1 bool
                    IF
                      {
                        DIG 3;      # lambda bls12_381_g1 bool : list operation : @parameter%mutualClose : @storage
                        DROP;       # list operation : @parameter%mutualClose : @storage
                        # sp.send(self.data.merchant_address, params.merchant_balance) # list operation : @parameter%mutualClose : @storage
                        DUP 3;      # @storage : list operation : @parameter%mutualClose : @storage
                        CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation : @parameter%mutualClose : @storage
                        GET 3;      # pair (bls12_381_g2 %g2) (address %merchant_address) : list operation : @parameter%mutualClose : @storage
                        CDR;        # address : list operation : @parameter%mutualClose : @storage
                        CONTRACT unit; # option (contract unit) : list operation : @parameter%mutualClose : @storage
                        IF_NONE
                          {
                            PUSH int 335; # int : list operation : @parameter%mutualClose : @storage
                            FAILWITH;   # FAILED
                          }
                          {}; # @some : list operation : @parameter%mutualClose : @storage
                        DIG 2;      # @parameter%mutualClose : @some : list operation : @storage
                        GET 4;      # mutez : @some : list operation : @storage
                        UNIT;       # unit : mutez : @some : list operation : @storage
                        TRANSFER_TOKENS; # operation : list operation : @storage
                        CONS;       # list operation : @storage
                      }
                      {
                        SWAP;       # @parameter%mutualClose : list operation : @storage : lambda bls12_381_g1 bool
                        DROP;       # list operation : @storage : lambda bls12_381_g1 bool
                        DIG 2;      # lambda bls12_381_g1 bool : list operation : @storage
                        DROP;       # list operation : @storage
                      }; # list operation : @storage
                    SWAP;       # @storage : list operation
                    # self.data.status = 5 # @storage : list operation
                    UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                    SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PUSH nat 5; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                    PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                    SWAP;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                  }
                  {
                    DROP;       # @storage : lambda bls12_381_g1 bool
                    SWAP;       # lambda bls12_381_g1 bool : @storage
                    DROP;       # @storage
                    # == reclaimFunding ==
                    # sp.verify(self.data.customer_address == sp.sender) # @storage
                    DUP;        # @storage : @storage
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                    CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                    CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @storage
                    CDR;        # address : @storage
                    SENDER;     # @sender : address : @storage
                    COMPARE;    # int : @storage
                    EQ;         # bool : @storage
                    IF
                      {}
                      {
                        PUSH string "WrongCondition: self.data.customer_address == sp.sender"; # string : @storage
                        FAILWITH;   # FAILED
                      }; # @storage
                    # sp.verify(self.data.status == 1) # @storage
                    DUP;        # @storage : @storage
                    GET 3;      # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : @storage
                    GET 3;      # nat : @storage
                    PUSH nat 1; # nat : nat : @storage
                    COMPARE;    # int : @storage
                    EQ;         # bool : @storage
                    IF
                      {}
                      {
                        PUSH string "WrongCondition: self.data.status == 1"; # string : @storage
                        FAILWITH;   # FAILED
                      }; # @storage
                    # sp.send(self.data.customer_address, self.data.customer_balance) # @storage
                    DUP;        # @storage : @storage
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @storage
                    CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @storage
                    CAR;        # pair (bls12_381_fr %cid) (address %customer_address) : @storage
                    CDR;        # address : @storage
                    CONTRACT unit; # option (contract unit) : @storage
                    IF_NONE
                      {
                        PUSH int 164; # int : @storage
                        FAILWITH;   # FAILED
                      }
                      {}; # @some : @storage
                    NIL operation; # list operation : @some : @storage
                    SWAP;       # @some : list operation : @storage
                    DUP 3;      # @storage : @some : list operation : @storage
                    CAR;        # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : @some : list operation : @storage
                    CAR;        # pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry)) : @some : list operation : @storage
                    GET 3;      # mutez : @some : list operation : @storage
                    UNIT;       # unit : mutez : @some : list operation : @storage
                    TRANSFER_TOKENS; # operation : list operation : @storage
                    CONS;       # list operation : @storage
                    SWAP;       # @storage : list operation
                    # self.data.status = 6 # @storage : list operation
                    UNPAIR;     # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                    SWAP;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2))) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    UNPAIR;     # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair (nat %status) (bls12_381_g2 %x2)) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    UNPAIR;     # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (nat %status) (bls12_381_g2 %x2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    SWAP;       # pair (nat %status) (bls12_381_g2 %x2) : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    CDR;        # bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PUSH nat 6; # nat : bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PAIR;       # pair nat bls12_381_g2 : pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    SWAP;       # pair (bls12_381_fr %revocation_lock) (int %self_delay) : pair nat bls12_381_g2 : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PAIR;       # pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2) : pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    PAIR;       # pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : list operation
                    SWAP;       # pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key))) : pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))) : list operation
                    PAIR;       # pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))) : list operation
                    SWAP;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
                  }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
              }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair (mutez %customer_balance) (timestamp %delay_expiry))) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
          }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair (bls12_381_fr %revocation_lock) (int %self_delay)) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
      }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
    NIL operation; # list operation : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
    SWAP;       # list operation : list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
    ITER
      {
        CONS;       # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
      }; # list operation : pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4)))))
    PAIR;       # pair (list operation) (pair (pair (pair (pair (bls12_381_fr %cid) (address %customer_address)) (pair mutez timestamp)) (pair (pair (bls12_381_g2 %g2) (address %merchant_address)) (pair (mutez %merchant_balance) (key %merchant_public_key)))) (pair (pair (pair bls12_381_fr int) (pair nat bls12_381_g2)) (pair (pair (bls12_381_g2 %y2s_0) (bls12_381_g2 %y2s_1)) (pair (bls12_381_g2 %y2s_2) (pair (bls12_381_g2 %y2s_3) (bls12_381_g2 %y2s_4))))))
  };